<header class="navigation sticky-top bg-white">
  <div class="container">
    <nav class="navbar navbar-expand-lg navbar-light">
      <a class="navbar-brand" href="index.html">
        <img src="images/logo.png" alt="Vex" width="100px" />
      </a>
      <button
        class="navbar-toggler p-0 border-0"
        type="button"
        data-toggle="collapse"
        data-target="#navigation"
        aria-controls="navigation"
        aria-expanded="false"
        aria-label="Toggle navigation"
      >
        <span class="navbar-toggler-icon"></span>
      </button>

      <div class="collapse navbar-collapse text-center" id="navigation">
        <style>
          /* Mobile menu fixes - inline for immediate effect */
          @media (max-width: 991.98px) {
            .navbar-collapse {
              position: absolute !important;
              top: 100% !important;
              left: 0 !important;
              right: 0 !important;
              background: white !important;
              border-top: 1px solid #e9ecef !important;
              box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1) !important;
              z-index: 1000 !important;
              display: none !important;
              max-height: calc(100vh - 80px) !important;
              overflow-y: auto !important;
            }

            .navbar-collapse.show {
              display: block !important;
            }

            .navbar-nav {
              padding: 1rem 0 !important;
            }

            .navbar-nav .nav-item {
              border-bottom: 1px solid #f8f9fa !important;
            }

            .navbar-nav .nav-item:last-child {
              border-bottom: none !important;
            }

            .navbar-nav .nav-link {
              padding: 0.75rem 1rem !important;
              color: #333 !important;
              font-weight: 500 !important;
            }

            .navbar-nav .nav-link:hover {
              background-color: #f8f9fa !important;
            }
          }

          /* Ensure navbar toggler is clickable */
          .navbar-toggler {
            border: none !important;
            padding: 0.5rem !important;
            cursor: pointer !important;
            z-index: 1001 !important;
          }

          .navbar-toggler:focus {
            outline: none !important;
            box-shadow: none !important;
          }
        </style>
        <ul class="navbar-nav ml-auto mr-n0 mr-md-n3">
          <li class="nav-item">
            <a class="nav-link" href="index.html">Home</a>
          </li>

          <li class="nav-item">
            <a class="nav-link" href="products.html">Products</a>
          </li>

          <li class="nav-item">
            <a class="nav-link" href="blog.html">Blog</a>
          </li>

          <li class="nav-item dropdown">
            <a
              class="nav-link dropdown-toggle"
              href="#!"
              id="dropdown03"
              data-toggle="dropdown"
              aria-haspopup="true"
              aria-expanded="false"
              >Pages <i class="tf-ion-chevron-down"></i
            ></a>
            <ul class="dropdown-menu" aria-labelledby="dropdown03">
              <li>
                <a class="dropdown-item" href="blog-details.html"
                  >Blog Details</a
                >
              </li>
              <li>
                <a class="dropdown-item" href="product-details.html"
                  >Product Details</a
                >
              </li>
              <li>
                <a class="dropdown-item" href="privacy-policy.html"
                  >Privacy Policy</a
                >
              </li>
              <li>
                <a class="dropdown-item" href="terms-conditions.html"
                  >Terms Conditions</a
                >
              </li>

              <li class="dropdown dropdown-submenu dropright">
                <a
                  class="dropdown-item dropdown-toggle"
                  href="#!"
                  id="dropdown0301"
                  role="button"
                  data-toggle="dropdown"
                  aria-haspopup="true"
                  aria-expanded="false"
                  >Sub Menu 01</a
                >

                <ul class="dropdown-menu" aria-labelledby="dropdown0301">
                  <li>
                    <a class="dropdown-item" href="index.html">Submenu 11</a>
                  </li>
                  <li>
                    <a class="dropdown-item" href="index.html">Submenu 12</a>
                  </li>
                </ul>
              </li>

              <li class="dropdown dropdown-submenu dropleft">
                <a
                  class="dropdown-item dropdown-toggle"
                  href="#!"
                  id="dropdown0301"
                  role="button"
                  data-toggle="dropdown"
                  aria-haspopup="true"
                  aria-expanded="false"
                  >Sub Menu 02</a
                >

                <ul class="dropdown-menu" aria-labelledby="dropdown0301">
                  <li>
                    <a class="dropdown-item" href="index.html">Submenu 21</a>
                  </li>
                  <li>
                    <a class="dropdown-item" href="index.html">Submenu 22</a>
                  </li>
                </ul>
              </li>
            </ul>
          </li>

          <li class="nav-item">
            <a class="nav-link" href="index.html#testimonial">Review</a>
          </li>

          <li class="nav-item">
            <a class="nav-link" href="contact.html">Contact</a>
          </li>
        </ul>
      </div>
    </nav>
  </div>
</header>

<script>
  // Immediate mobile menu fix - inline for instant effect
  document.addEventListener("DOMContentLoaded", function () {
    // Mobile menu toggle
    var navbarToggler = document.querySelector(".navbar-toggler");
    var navbarCollapse = document.querySelector(".navbar-collapse");

    if (navbarToggler && navbarCollapse) {
      navbarToggler.addEventListener("click", function (e) {
        e.preventDefault();
        e.stopPropagation();

        // Toggle the show class
        navbarCollapse.classList.toggle("show");

        // Update aria-expanded
        var isExpanded = navbarCollapse.classList.contains("show");
        this.setAttribute("aria-expanded", isExpanded);

        console.log("Mobile menu toggled:", isExpanded ? "open" : "closed");
      });

      // Close menu when clicking outside
      document.addEventListener("click", function (e) {
        if (!e.target.closest(".navbar")) {
          navbarCollapse.classList.remove("show");
          navbarToggler.setAttribute("aria-expanded", "false");
        }
      });

      // Close menu when clicking nav links
      var navLinks = document.querySelectorAll(".navbar-nav .nav-link");
      navLinks.forEach(function (link) {
        link.addEventListener("click", function () {
          if (window.innerWidth < 992) {
            navbarCollapse.classList.remove("show");
            navbarToggler.setAttribute("aria-expanded", "false");
          }
        });
      });
    }
  });
</script>
